
<!doctype html>
<html>
<head>
  <title>Группы и авторазбивка</title>
  <style>
    body { font-family: sans-serif; margin: 20px; }
    .group-block { display: inline-block; vertical-align: top; margin-right: 20px; padding: 10px; border: 1px solid #ccc; width: 200px; }
  </style>
</head>
<body>
  <h1>Участники</h1>
  <form method="post" action="/add">
    <textarea name="names" placeholder="Фамилии по одной в строке" style="width:300px;height:100px;"></textarea><br>
    <button type="submit">Добавить участников</button>
  </form>
  <a href="/clear">Очистить</a> | <a href="/archive">Архивировать</a>
  <br><br>
  <a href="/autogroup?num_groups=2">Авторазбить на 2 группы</a> |
  <a href="/autogroup?num_groups=3">на 3 группы</a> |
  <a href="/autogroup?num_groups=4">на 4 группы</a>
  <h2>Список участников</h2>
  <ul>
    {% for p in participants %}
      <li>{{ p }}</li>
    {% endfor %}
  </ul>

  <h2>Список групп</h2>
  {% for g, members in groups.items() %}
    <div class="group-block">
      <strong>Группа {{ g }}</strong>
      <ul>
        {% for m in members %}
          <li>#{{ m.number }} — {{ m.name }}</li>
        {% endfor %}
      </ul>
    </div>
  {% endfor %}

  <h2>Архив участников</h2>
  <ul>
    {% for a in archive %}
      <li>{{ a }}</li>
    {% endfor %}
  </ul>
</body>
</html>
