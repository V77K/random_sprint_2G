
<!doctype html>
<html>
<head>
  <title>Финальный Менеджер Гонок</title>
  <style>
    body { font-family: sans-serif; margin: 20px; }
    .group-block { display: inline-block; vertical-align: top; margin: 10px; padding: 10px; border: 1px solid #ccc; width: 200px; }
    textarea { width: 300px; height: 100px; }
    select, button { margin-top: 5px; }
  </style>
</head>
<body>
  <h1>Финальная Версия Менеджера</h1>

  <form method="post" action="/add">
    <textarea name="names" placeholder="Фамилии построчно"></textarea><br>
    <button type="submit">Добавить участников</button>
  </form>
  <a href="/clear">Очистить всех</a> | <a href="/archive">Архивировать</a>

  <h2>Авторазбивка</h2>
  <form method="post" action="/autogroup">
    <label>Кол-во групп:</label>
    <select name="num_groups">
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
    </select>
    <label>Этап:</label>
    <select name="stage">
      <option>Квалификация 1</option>
      <option>Квалификация 2</option>
      <option>Гонка 1</option>
      <option>Гонка 2</option>
    </select>
    <button type="submit">Разбить</button>
  </form>

  <h2>Текущие группы</h2>
  {% for g, members in groups.items() %}
    <div class="group-block">
      <strong>Группа {{ g }}</strong>
      <ul>
        {% for m in members %}
          <li>#{{ m.number }} — {{ m.name }}</li>
        {% endfor %}
      </ul>
    </div>
  {% endfor %}

  <h2>Архив участников</h2>
  <ul>
    {% for a in archive %}
      <li>{{ a }}</li>
    {% endfor %}
  </ul>
</body>
</html>
